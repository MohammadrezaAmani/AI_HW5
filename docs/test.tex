\chapter{
	پیاده سازی
}

\section{مقدمه}

کد به زبان \lr{Python} نوشته شده است، بخش‌های کامل کد رو می‌توانید در  
\href{https://github.com/MohammadrezaAmani/kakuro}{گیتهاب}
مشاهده کنید.\\
کد به شکل کامل با استفاده از مفاهیم \lr{OOP} نوشته شده است. لیست کلاس ها شامل موارد زیر می‌باشد:\\
\begin{itemize}
	\item \lr{ٔNode}: شامل هر نقطه از جدول می‌باشد. که در آن اطلاعات مرتبط مختصات جدول و ... وجود دارد. 
	\item \lr{Board}:
	یک کلاس شامل یک ارایه دو بعدی از نود ها
	
	\item \lr{Game}
	منطق و استفاده از بازی.
	\item \lr{Dir} 
	\item  \lr{Config}
	\item \lr{Neighbor} کلاسی از همسایه‌ها
\end{itemize}


\section{شرح پیاده سازی}

\subsection{\lr{Node}}

مقداردهی اولیه (
\lr{init method}
):

یک شیء \lr{Node} با مختصات (x، y) در شبکه پازل ایجاد می‌شود.\\
\lr{right} و \lr{down} مجموع یا معما برای جهت‌های راست و پایین را نشان می‌دهند، به ترتیب. اگر اینها معما باشند، باید رشته باشند.\\
\lr{unkowns\_right} و \lr{unkowns\_down} تعداد فضاهای خالی به ترتیب در سمت راست و زیر گره را نشان می‌دهند.\\
\lr{combinations\_right} و \lr{combinations\_down} لیست‌هایی هستند که تمام ترکیب‌های ممکن اعدادی که شرایط مجموع و فضا را ارضا می‌کنند را ذخیره می‌کنند.\\
\lr{value\_right} و \lr{value\_down} مقادیر نهایی را بر اساس ترکیب‌ها ذخیره می‌کنند.\\
\lr{neighbores\_right} و \lr{neighbores\_down} گره‌های همسایه در جهت‌های راست و پایین را ذخیره می‌کنند.\\
\lr{last\_value} به \lr{Config.UNKNOWN} تنظیم می‌شود.\\
متدهای تنظیم کننده ویژگی (\lr{@property decorators} و متدهای تنظیم کننده):

گرفتن‌کننده و تنظیم‌کننده برای \lr{unkowns\_down}، \lr{unkowns\_right}، \lr{combinations\_right}، و \lr{combinations\_down} فراهم می‌کند.
اطمینان حاصل می‌شود که هنگام تغییر این ویژگی‌ها، به‌روزرسانی‌ها و سازگاری‌های لازم اعمال می‌شود.
متد \lr{check\_value}:

مقدار \lr{value\_right} یا \lr{value\_down} بر اساس مقادیر مشترک در ترکیب‌ها به‌روز می‌شود.
متدهای \lr{\_\_repr\_\_} و \lr{\_\_str\_\_}:

\lr{\_\_repr\_\_} یک رشته نماینده گره را با توجه به آخرین مقدار ارائه می‌دهد.
\lr{\_\_str\_\_} به \lr{\_\_repr\_\_} فراخوانی می‌کند.
متدهای \lr{find\_combinations} و \lr{find}:

\lr{find\_combinations} به صورت بازگشتی تمام ترکیب‌های ممکن اعدادی که به یک مقدار داده شده با تعدادی فضا جمع می‌شوند را پیدا می‌کند.
\lr{find} لیست ترکیب‌ها را مقداردهی اولیه می‌کند و \lr{find\_combinations} را فرا می‌خواند.
متدهای \lr{\_optimize} و \lr{optimize}:

\lr{\_optimize} ترکیب‌ها را بر اساس اشتراک مقادیر یکتا بین گره فعلی و یک گره همسایه بهینه می‌کند.
\lr{optimize} از تمام گره‌های همسایه عبور می‌کند و \lr{\_optimize} را فرا می‌خواند.


\subsection{\lr{Board}}
کلاس \lr{Board}:
مقداردهی اولیه \lr{(\_\_init\_\_ method)}:

ایجاد یک شیء \lr{Board} با ویژگی \lr{board} که تخته بازی را به عنوان یک لیست ۲بعدی از شیء‌های \lr{Node} نشان می‌دهد.
ویژگی \lr{board}:

یک ویژگی با نام \lr{board} که به تخته بازی اشاره دارد.
تابع‌های \lr{Getter} و \lr{Setter} برای ویژگی \lr{board}:

Getter و \lr{Setter} برای اطمینان از درستی تنظیم و بازیابی مقدار ویژگی \lr{board}.
متد \lr{create\_board}:

ایجاد تخته بازی از یک نمایش متنی داده شده.
متد تخته بازی را به عنوان یک لیست ۲بعدی از شیء‌های \lr{Node} ایجاد می‌کند.
متدهای \lr{neighbors\_down} و \lr{neighbors\_right}:

\lr{neighbors\_down} و \lr{neighbors\_right} لیستی از همسایه‌های یک گره در جهت‌های پایین و راست را برمی‌گردانند.
متد \lr{find\_neighbors}:

گرفتن همسایه‌ها برای هر گره در تخته بازی و ذخیره کردن آنها در ویژگی‌های مربوطه.
متد \lr{count\_unkowns}:

شمارش تعداد فضاهای خالی به سمت‌های راست و پایین برای هر گره و ذخیره آن در ویژگی‌های مربوطه.
متد \lr{\_\_str\_\_}:

تبدیل تخته بازی به یک رشته متنی.
اعمال مقادیر پایانی به گره‌های تخته بازی.
متد \lr{optimize}:

بهینه‌سازی تخته بازی بر اساس عمق مشخص شده.
برای هر گره در تخته بازی، متد \lr{optimize} را صدا می‌زند.

\subsection{\lr{Game}}

کلاس \lr{Game}:
مقداردهی اولیه \lr{(\_\_init\_\_ method)}:

یک شیء \lr{Game} با ویژگی \lr{board} که تخته بازی را به عنوان یک شیء \lr{Board} نشان می‌دهد، ایجاد می‌شود.
تابع \lr{count\_unkowns} از \lr{Board} صدا زده می‌شود تا تعداد فضاهای خالی برای هر گره محاسبه شود.
تابع \lr{find\_neighbors} از \lr{Board} صدا زده می‌شود تا همسایه‌ها برای هر گره پیدا شوند.
تابع \lr{optimize} از \lr{Board} صدا زده می‌شود تا بازی بهینه شود.
متد o\lr{ptimize}:

بهینه‌سازی بازی با اعمال یک الگوریتم جستجوی محدود به عمق.
پارامتر \lr{depth} حداکثر عمق الگوریتم جستجو را مشخص می‌کند. مقدار پیش‌فرض آن ۳ است.
	متد \lr{run}:
	
	اجرای بازی با بهینه‌سازی به عمق مشخص شده.
	این متد تابع \lr{optimize} را صدا می‌زند و مقدار \lr{True} را برمی‌گرداند.
ناقص است و باید توسط عملکرد دیگری پر شود.
متدهای \lr{\_\_str\_\_} و \lr{\_\_repr\_\_}:

\lr{\_\_str\_\_}: تبدیل شیء بازی به یک رشته متنی با فراخوانی تابع \lr{\_\_str\_\_} از تخته بازی.\\
\lr{\_\_repr\_\_}: تبدیل شیء بازی به یک رشته متنی با فراخوانی تابع \lr{\_\_repr\_\_} از تخته بازی.\\
